function callPlayer(e,n,t){window.jQuery&&e instanceof jQuery&&(e=e.get(0).id);var a=document.getElementById(e);a&&"IFRAME"!=a.tagName.toUpperCase()&&(a=a.getElementsByTagName("iframe")[0]),callPlayer.queue||(callPlayer.queue={});var l=callPlayer.queue[e],o="complete"==document.readyState;if(o&&!a)window.console&&console.log("callPlayer: Frame not found; id="+e),l&&clearInterval(l.poller);else if("listening"===n)a&&a.contentWindow&&(n='{"event":"listening","id":'+JSON.stringify(""+e)+"}",a.contentWindow.postMessage(n,"*"));else if(o&&(!a||a.contentWindow&&(!l||l.ready))&&(l&&l.ready||"function"!=typeof n)){if(a&&a.contentWindow){if(n.call)return n();a.contentWindow.postMessage(JSON.stringify({event:"command",func:n,args:t||[],id:e}),"*")}}else l||(l=callPlayer.queue[e]=[]),l.push([n,t]),"poller"in l||(l.poller=setInterval(function(){callPlayer(e,"listening")},250),i(1,function n(t){if(!a){if(!(a=document.getElementById(e)))return;if("IFRAME"!=a.tagName.toUpperCase()&&!(a=a.getElementsByTagName("iframe")[0]))return}if(t.source===a.contentWindow)for(clearInterval(l.poller),l.ready=!0,i(0,n);tmp=l.shift();)callPlayer(e,tmp[0],tmp[1])}));function i(e,n){var t=e?window.addEventListener:window.removeEventListener;t?t("message",n,!1):(e?window.attachEvent:window.detachEvent)("onmessage",n)}}